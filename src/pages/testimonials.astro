---
import Layout from "../layouts/MainLayout.astro";
import Wrapper from "@components/ui/Wrapper.astro";
import { Icon } from "astro-icon/components";

// SEO-optimized testimonials focusing on key locations, services, and trust factors
const testimonials = [
  {
    name: "Rajesh Shrestha",
    role: "Homeowner",
    location: "Kathmandu to Pokhara",
    service: "Residential Moving",
    rating: 5,
    text: "All Nepal Packers & Movers provided an exceptional service during our relocation from Kathmandu to Pokhara. The team was highly professional, arriving on time and carefully packing all our fragile items. Nothing was damaged, and the entire process was completely stress-free. I highly recommend them as the best home movers in Nepal.",
    date: "October 2025"
  },
  {
    name: "Sita Sharma",
    role: "Office Manager",
    location: "Patan",
    service: "Corporate Relocation",
    rating: 5,
    text: "We hired All Nepal Packers for our office shifting in Patan, Lalitpur. Their corporate relocation service is top-notch. They handled our IT equipment and heavy furniture with utmost care. The move was completed perfectly on schedule, ensuring our business experienced zero downtime. Truly the most reliable commercial movers!",
    date: "August 2025"
  },
  {
    name: "Binod Gurung",
    role: "Expat",
    location: "Boudha, Kathmandu",
    service: "Packing & Unpacking",
    rating: 5,
    text: "I was extremely impressed with their premium packing and unpacking services. As someone with many delicate antique pieces, I was worried, but the moving crew used high-quality packing materials and secured everything flawlessly. They are unquestionably the safest and most secure packers and movers in Kathmandu valley.",
    date: "July 2025"
  },
  {
    name: "Anita Maharjan",
    role: "Small Business Owner",
    location: "Bhaktapur to Chitwan",
    service: "Long Distance Moving",
    rating: 5,
    text: "Finding an affordable yet trustworthy moving company for a long-distance move was tough until I found All Nepal Packers. They managed our shift from Bhaktapur to Narayanghat, Chitwan seamlessly. Great communication, transparent pricing with no hidden fees, and very polite staff.",
    date: "November 2025"
  },
  {
    name: "Nabin Thapa",
    role: "Renter",
    location: "Lalitpur",
    service: "Apartment Shifting",
    rating: 5,
    text: "Fantastic experience! They made my apartment shifting in Lalitpur look so easy. The movers and packers arrived with a spacious truck and loaded everything very quickly. If you want a hassle-free shifting service in Nepal, these are the guys to call.",
    date: "September 2025"
  },
  {
    name: "Pooja Karki",
    role: "Restaurant Owner",
    location: "Thamel, Kathmandu",
    service: "Commercial Moving",
    rating: 5,
    text: "Moving my restaurant equipment safely was my biggest concern. All Nepal Packers and Movers executed the commercial move perfectly. Their experienced moving crew disassembled and reassembled everything with precision. Highly efficient and the most professional movers I've worked with.",
    date: "December 2025"
  }
];

// Calculate overall rating
const totalRating = testimonials.reduce((acc, current) => acc + current.rating, 0);
const averageRating = (totalRating / testimonials.length).toFixed(1);
---

<Layout 
  title="Customer Reviews & Testimonials | All Nepal Packers & Movers"
  description="Read reviews from our satisfied customers across Nepal. Discover why All Nepal Packers & Movers is the top-rated choice for residential and commercial shifting."
>
  <!-- Hero Section -->
  <section class="relative pt-32 pb-20 lg:pt-40 lg:pb-28 bg-dark overflow-hidden">
    <!-- Background Patterns -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"></div>
    </div>
    
    <!-- Accent Gradients -->
    <div class="absolute top-0 right-0 -translate-y-12 translate-x-1/3 w-96 h-96 bg-primary/30 rounded-full blur-[128px]"></div>
    <div class="absolute bottom-0 left-0 translate-y-1/3 -translate-x-1/3 w-96 h-96 bg-accent/20 rounded-full blur-[128px]"></div>

    <Wrapper>
      <div class="relative z-10 text-center max-w-3xl mx-auto">
        <div class="inline-flex items-center gap-2 px-3 py-1 bg-white/10 border border-white/20 rounded-full mb-6">
          <Icon name="shooting-star" class="w-4 h-4 text-accent" />
          <span class="text-xs font-bold text-white uppercase tracking-wider">Trusted by Thousands</span>
        </div>
        
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 font-display">
          What Our <span class="text-primary-light">Customers</span> Say
        </h1>
        
        <p class="text-xl text-gray-300 mb-10 leading-relaxed font-body">
          Don't just take our word for it. Read honest reviews and testimonials from people who have experienced our premium packing and moving services firsthand.
        </p>

        <!-- Dynamic Overall Rating Badge -->
        <div class="inline-flex items-center gap-6 bg-white/5 backdrop-blur-sm border border-white/10 p-6 rounded-2xl">
          <div class="text-left">
            <p class="text-5xl font-bold text-white font-display leading-none mb-1">{averageRating}</p>
            <div class="flex gap-1 text-accent mb-1">
              {[...Array(5)].map(() => (
                <Icon name="shooting-star" class="w-5 h-5" />
              ))}
            </div>
          </div>
          <div class="w-px h-12 bg-white/20"></div>
          <div class="text-left">
            <p class="text-lg font-bold text-white leading-tight">Overall Rating</p>
            <p class="text-sm text-gray-400">Based on {testimonials.length}+ verified reviews</p>
          </div>
        </div>
      </div>
    </Wrapper>
  </section>

  <!-- Reviews Grid -->
  <section class="py-20 lg:py-32 bg-secondary">
    <Wrapper>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {testimonials.map((review) => (
          <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col h-full">
            
            <!-- Stars & Date -->
            <div class="flex justify-between items-start mb-6 w-full">
              <div class="flex gap-1 text-accent">
                {[...Array(review.rating)].map(() => (
                  <Icon name="shooting-star" class="w-5 h-5" />
                ))}
              </div>
              <span class="text-xs font-medium text-gray-400 bg-gray-50 px-2 py-1 rounded-md">{review.date}</span>
            </div>

            <!-- Review Text -->
            <div class="flex-grow">
              <Icon name="quote-right" class="w-10 h-10 text-primary/10 mb-4" />
              <p class="text-gray-600 font-body leading-relaxed mb-6 italic">
                "{review.text}"
              </p>
            </div>

            <!-- Customer Info & Service -->
            <div class="pt-6 border-t border-gray-100 mt-auto">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                  <span class="text-xl font-bold text-primary font-display">{review.name.charAt(0)}</span>
                </div>
                <div>
                  <h3 class="font-bold text-dark font-display">{review.name}</h3>
                  <p class="text-sm text-gray-500">{review.role} â€¢ {review.location}</p>
                </div>
              </div>
              
              <div class="bg-secondary p-3 rounded-xl flex items-center gap-2">
                <Icon name="check-circle" class="w-4 h-4 text-success flex-shrink-0" />
                <span class="text-xs font-medium text-dark line-clamp-1">Service: {review.service}</span>
              </div>
            </div>

          </div>
        ))}
      </div>

      <!-- Call to Action -->
      <div class="mt-20 bg-primary rounded-3xl p-10 lg:p-16 text-center relative overflow-hidden shadow-2xl">
        <div class="absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary-dark"></div>
        <div class="absolute -top-40 -right-40 w-96 h-96 bg-accent/20 rounded-full blur-[100px]"></div>
        
        <div class="relative z-10 max-w-2xl mx-auto">
          <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6 font-display">
            Ready to Experience Our 5-Star Service?
          </h2>
          <p class="text-lg text-white/90 mb-10 font-body">
            Join hundreds of satisfied customers and let us handle your next move with professional care and efficiency.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/free-quote" class="px-8 py-4 bg-accent hover:bg-accent-light text-dark font-bold rounded-xl transition-all hover:-translate-y-1 shadow-lg shadow-accent/30 text-center">
              Get Your Free Quote
            </a>
            <a href="tel:+9779843472589" class="px-8 py-4 bg-white/10 hover:bg-white/20 text-white border border-white/20 font-bold rounded-xl transition-all text-center flex items-center justify-center gap-2">
              <Icon name="call" class="w-5 h-5" />
              Call Now: 9843472589
            </a>
          </div>
        </div>
      </div>
    </Wrapper>
  </section>
</Layout>
