---
import MainLayout from "@layouts/MainLayout.astro";
import Hero from "./_components/Hero.astro";
import TrustIndicators from "./_components/TrustIndicators.astro";
import Services from "./_components/Services.astro";
import WhyChooseUs from "./_components/WhyChooseUs.astro";
import MovingProcess from "./_components/MovingProcess.astro";
import Testimonials from "./_components/Testimonials.astro";
import ContactSection from "./_components/ContactSection.astro";
import FloatingActions from "@components/ui/FloatingActions.astro";
import MobileStickyCTA from "@components/ui/MobileStickyCTA.astro";
import FAQ from "@components/ui/FAQ.astro";
import { getCollection } from "astro:content";
import BlogPostListing from "../components/BlogPostListing.astro";
import Wrapper from "@components/ui/Wrapper.astro";

const blogEntries = (await getCollection("blog")).sort(
  (a, b) => b.data.publishedDate.valueOf() - a.data.publishedDate.valueOf()
).slice(0, 3);
---

<MainLayout
  title="Best Movers in Nepal"
  description="Professional packers and movers in Nepal offering house shifting, office relocation, and secure moving services. Trustworthy, affordable, and safe."
  tags="packers and movers in Nepal, best movers in Nepal, house shifting services Kathmandu, office relocation Nepal, local movers Kathmandu, All Nepal Packers"
>
  <Hero />
  <TrustIndicators />
  <Services />
  <WhyChooseUs />
  <MovingProcess />

  <section class="py-24 bg-secondary/30">
    <Wrapper>
      <div class="flex flex-col md:flex-row items-start md:items-end justify-between mb-12 md:mb-16 gap-6 md:gap-8">
        <div class="max-w-2xl text-left">
          <h2 class="text-xs font-bold text-accent uppercase tracking-widest mb-4">Latest Updates</h2>
          <h3 class="text-3xl md:text-5xl font-bold text-dark leading-tight">
            From Our <span class="text-primary-light italic">Blog</span>
          </h3>
        </div>
        <a href="/blog" class="btn-primary px-8 py-3 text-sm whitespace-nowrap" title="Read all our moving tips and blog posts">View All Moving Tips & Posts</a>
      </div>
      <BlogPostListing blogPosts={blogEntries} />
    </Wrapper>
  </section>

  <Testimonials />
  <FAQ />
  <ContactSection />
</MainLayout>
