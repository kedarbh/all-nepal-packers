---

---

<div>
  <form id="movingForm">
    <div class="text-center mb-10">
      <h1 class="text-gray-800 font-bold text-2xl mb-1">Get Free Quotes</h1>
      <p class="text-sm font-normal text-gray-600">Move with ease</p>
    </div>
    <div class="mt-4 grid grid-cols-1 gap-x-5 gap-y-4 sm:grid-cols-6">
      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Full Name:</span
            >
            <input
              type="text"
              name="name"
              required
              id="full-name"
              autocomplete="given-name"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="Full Name"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Mobile Number:</span
            >
            <input
              type="tel"
              name="phone"
              id="phone-number"
              autocomplete="tel-national"
              pattern="[0-9]{10}"
              required
              title="Mobile Number should be 10 digit long"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="Mobile Number"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Email:</span
            >
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="email@email.com"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Move Type:</span
            >
            <select
              id="move-type"
              name="moveType"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
            >
              <option value="Apartment">Apartment</option>
              <option value="Flat">Flat</option>
              <option value="House">House</option>
              <option value="Office">Office</option>
              <option value="Motorbike">Motorbike</option>
            </select>
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Moving From:</span
            >
            <input
              type="text"
              name="moveFrom"
              id="move-from"
              required
              autocomplete="address-level2"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="moving from"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Moving To:</span
            >
            <input
              type="text"
              name="moveTo"
              id="move-to"
              required
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="moving to"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="mt-6 flex items-center gap-x-6">
      <button
        type="submit"
        class="w-full rounded-md bg-indigo-600 px-6 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
        >Get a Quote</button
      >
    </div>
  </form>

  <!-- Modal -->
  <div id="myModal" style="display:none;position:fixed;z-index:50;inset:0;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;" class="flex">
    <div class="bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 relative">
      <button id="closeModal" class="absolute top-4 right-4 text-gray-400 hover:text-dark text-2xl font-bold leading-none">&times;</button>
      <p id="modalMessage" class="text-dark font-semibold text-base text-center mt-2"></p>
    </div>
  </div>
</div>

<script>
  const modal = document.getElementById("myModal") as HTMLDivElement | null;
  const modalMessage = document.getElementById("modalMessage") as HTMLParagraphElement | null;

  function showModal(message: string) {
    if (modal && modalMessage) {
      modalMessage.textContent = message;
      modal.style.display = "flex";
    }
  }

  document.getElementById("closeModal")?.addEventListener("click", () => {
    if (modal) modal.style.display = "none";
  });

  document.getElementById("movingForm")?.addEventListener("submit", function (e) {
    e.preventDefault();
    showModal("Submitting your quote request...");

    const formData = new FormData(this as HTMLFormElement);

    fetch(
      "https://script.google.com/macros/s/AKfycbz9DL93sk9jUE0_T9EvW4z53PClrruxQ5pPJx7PNnvMmHKbm1w3sXszkwlPY2QLCT1l/exec",
      { method: "POST", body: formData }
    )
      .then((res) => {
        if (!res.ok) throw new Error("Network response was not ok");
        return res.text();
      })
      .then((data) => {
        if (data.startsWith("Error:")) throw new Error(data);
        showModal("âœ“ Quote request submitted! We'll contact you within a few hours.");
        (document.getElementById("movingForm") as HTMLFormElement)?.reset();
      })
      .catch((error) => {
        showModal("Submission failed: " + error.message);
      });
  });
</script>
