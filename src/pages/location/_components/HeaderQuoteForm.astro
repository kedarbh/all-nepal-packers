---

---

<style>
  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
  }

  .modal-content {
    background-color: white;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
  }

  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }

  .close:hover,
  .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }
</style>

<div>
  <form id="movingForm">
    <div class="text-center mb-10">
      <h1 class="text-gray-800 font-bold text-2xl mb-1">Get Free Quotes</h1>
      <p class="text-sm font-normal text-gray-600">Move with ease</p>
    </div>
    <div class="mt-4 grid grid-cols-1 gap-x-5 gap-y-4 sm:grid-cols-6">
      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Full Name:</span
            >
            <input
              type="text"
              name="name"
              required
              id="full-name"
              autocomplete="given-name"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="Full Name"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Mobile Number:</span
            >
            <input
              type="tel"
              name="phone"
              id="phone-number"
              autocomplete="tel-national"
              pattern="[0-9]{10}"
              required
              title="Mobile Number should be 10 digit long"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="Mobile Number"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Email:</span
            >
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="email@email.com"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Move Type:</span
            >
            <select
              id="move-type"
              name="moveType"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
            >
              <option value="Apartment">Apartment</option>
              <option value="Flat">Flat</option>
              <option value="House">House</option>
              <option value="Office">Office</option>
              <option value="Motorbike">Motorbike</option>
            </select>
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Moving From:</span
            >
            <input
              type="text"
              name="moveFrom"
              id="move-from"
              required
              autocomplete="address-level2"
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="moving from"
            />
          </div>
        </div>
      </div>

      <div class="sm:col-span-3">
        <div>
          <div
            class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-1 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"
          >
            <span
              class="flex select-none items-center pl-3 text-gray-500 sm:text-sm"
              >Moving To:</span
            >
            <input
              type="text"
              name="moveTo"
              id="move-to"
              required
              class="block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"
              placeholder="moving to"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="mt-6 flex items-center gap-x-6">
      <button
        type="submit"
        class="w-full rounded-md bg-indigo-600 px-6 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
        >Get a Quote</button
      >
    </div>
  </form>

  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <p id="modalMessage"></p>
    </div>
  </div>
</div>

<script>
  let modal = document.getElementById("myModal");
  let modalMessage = document.getElementById("modalMessage");

  // Function to show the modal
  function showModal(message: string) {
    // Set the message in the modal
    modalMessage.textContent = message;

    // Show the modal
    modal.style.display = "block";

    // Add event listener to close the modal when the close button is clicked
    var closeButton = document.getElementsByClassName("close")[0];
    closeButton.addEventListener("click", function () {
      modal.style.display = "none";
    });
  }

  document
    .getElementById("movingForm")
    .addEventListener("submit", function (e) {
      e.preventDefault();

      // Show the modal immediately to indicate form submission is in progress
      showModal("Submitting form...");

      const formData = new FormData(this);

      fetch(
        "https://script.google.com/macros/s/AKfycby1fEjWC_C5nuRx3TQco1ZhVDYF7RbK1md-lHpaS0t2IaPcbGZbZDsz_nUMqWEzLWs9Iw/exec",
        {
          method: "POST",
          body: formData,
        }
      )
        .then((response) => {
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          return response.text();
        })
        .then((data) => {
          if (data.startsWith("Error:")) {
            throw new Error(data);
          } else {
            showModal("Form submitted successfully!");
            document.getElementById("movingForm").reset();
          }
        })
        .catch((error) => {
          showModal("Form submission failed: " + error.message);
        });
    });
</script>
